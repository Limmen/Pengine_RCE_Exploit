CONTAINER=pengine_exploit
VERSION=0.0.1
IP=172.18.1.89

all: run

build: ./Dockerfile
	docker build . -f ./Dockerfile -t $(CONTAINER):$(VERSION);

run:
	docker container run -dt --name $(CONTAINER) --ip $(IP) --publish-all=true $(CONTAINER):$(VERSION)

shell:
	docker exec -it $(CONTAINER) /bin/bash

start:
	docker container start $(CONTAINER)

# Stop running containers
stop:
	-docker stop $(CONTAINER)

# Stop and remove running containers
clean: stop
	-docker rm $(CONTAINER)

# Expunge old container image
rm-image:
	-docker rmi $(CONTAINER):$(VERSION)
